<%- include('../partials/header') %>

<!-- Page Header -->
<section class="bg-primary text-white py-4 mb-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <h1 class="fw-bold mb-0">Eklentiler</h1>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a href="/" class="text-white text-decoration-none">Ana Sayfa</a></li>
            <li class="breadcrumb-item active text-white-50" aria-current="page">Eklentiler</li>
          </ol>
        </nav>
      </div>
      <div class="col-md-6 text-md-end mt-3 mt-md-0">
        <form class="d-flex gap-2">
          <input type="search" class="form-control" placeholder="Eklenti ara..." aria-label="Search">
          <button type="submit" class="btn btn-light"><i class="fas fa-search"></i></button>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- Plugins List -->
<section class="mb-5">
  <div class="container">
    <% if (plugins.length === 0) { %>
      <div class="alert alert-info">
        <i class="fas fa-info-circle me-2"></i> Henüz hiçbir eklenti bulunmamaktadır.
      </div>
    <% } else { %>
      <div class="row g-4">
        <% plugins.forEach(plugin => { %>
          <div class="col-md-6 col-lg-4">
            <div class="card h-100 border-0 shadow-sm hover-lift">
              <div class="position-relative">
                <div class="placeholder-image plugin card-img-top" data-content="<%= plugin.name %>">
                  <i class="fas fa-puzzle-piece"></i>
                </div>
              </div>
              <div class="card-body p-4">
                <h5 class="card-title mb-2"><%= plugin.name %></h5>
                <p class="card-text text-muted mb-3"><%= plugin.description %></p>
                
                <div class="mb-3">
                  <h6 class="text-primary">Komutlar:</h6>
                  <ul class="list-group list-group-flush">
                    <% Object.entries(plugin.komutlar).slice(0, 3).forEach(([key, value]) => { %>
                      <li class="list-group-item px-0 py-1 bg-transparent">
                        <code><%= value %></code>
                      </li>
                    <% }) %>
                    <% if (Object.keys(plugin.komutlar).length > 3) { %>
                      <li class="list-group-item px-0 py-1 bg-transparent text-muted">
                        <small>... ve <%= Object.keys(plugin.komutlar).length - 3 %> komut daha</small>
                      </li>
                    <% } %>
                  </ul>
                </div>
                
                <div class="d-grid">
                  <a href="/plugins/<%= plugin.name %>" class="btn btn-outline-primary">Detayları Gör</a>
                </div>
              </div>
            </div>
          </div>
        <% }) %>
      </div>
    <% } %>
  </div>
</section>

<%- include('../partials/footer') %> 